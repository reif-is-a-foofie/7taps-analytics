{
  "migration_summary": {
    "timestamp": "2025-01-10T01:30:00Z",
    "status": "completed",
    "source": "Heroku PostgreSQL",
    "destination": "Google Cloud BigQuery",
    "total_rows_migrated": 1460
  },
  "migrated_tables": [
    {
      "table_name": "users",
      "rows_migrated": 21,
      "status": "success"
    },
    {
      "table_name": "lessons", 
      "rows_migrated": 10,
      "status": "success"
    },
    {
      "table_name": "questions",
      "rows_migrated": 50,
      "status": "success"
    },
    {
      "table_name": "user_activities",
      "rows_migrated": 753,
      "status": "success"
    },
    {
      "table_name": "user_responses",
      "rows_migrated": 626,
      "status": "success"
    }
  ],
  "legacy_tables": [
    {
      "table_name": "LEGACY_activities",
      "status": "skipped",
      "reason": "Case sensitivity issues - can be migrated separately if needed"
    },
    {
      "table_name": "LEGACY_actors",
      "status": "skipped", 
      "reason": "Case sensitivity issues - can be migrated separately if needed"
    },
    {
      "table_name": "LEGACY_context_extensions_new",
      "status": "skipped",
      "reason": "Case sensitivity issues - can be migrated separately if needed"
    },
    {
      "table_name": "LEGACY_results_new",
      "status": "skipped",
      "reason": "Case sensitivity issues - can be migrated separately if needed"
    },
    {
      "table_name": "LEGACY_statements_flat",
      "status": "skipped",
      "reason": "Case sensitivity issues - can be migrated separately if needed"
    },
    {
      "table_name": "LEGACY_statements_new",
      "status": "skipped",
      "reason": "Case sensitivity issues - can be migrated separately if needed"
    },
    {
      "table_name": "LEGACY_statements_normalized",
      "status": "skipped",
      "reason": "Case sensitivity issues - can be migrated separately if needed"
    }
  ],
  "infrastructure_status": {
    "pubsub": {
      "status": "healthy",
      "topics": 1,
      "subscriptions": 2
    },
    "storage": {
      "status": "healthy", 
      "buckets": 1
    },
    "bigquery": {
      "status": "healthy",
      "datasets": 1,
      "tables": 6,
      "total_rows": 1460
    }
  },
  "next_steps": [
    "Deploy Cloud Function for xAPI ingestion",
    "Test end-to-end data flow",
    "Set up monitoring dashboards",
    "Migrate LEGACY tables if needed (requires case-sensitive handling)"
  ],
  "migration_tools_created": [
    "migrate_heroku_to_bigquery.py - Full migration script",
    "migrate_main_tables.py - Simplified main tables migration",
    "fix_partitioning_and_migrate.py - Partitioning fix and completion"
  ]
}
