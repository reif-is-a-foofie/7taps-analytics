{
  "module": "gc15_artifact_registry_migration",
  "agent": "devops_agent",
  "allowed_files": [
    "cloudbuild.yaml",
    "cloudbuild.ar.yaml",
    "scripts/deploy_cloud_run_ui.py",
    "docs/",
    "project_management/progress_reports/gc15_artifact_registry_migration.json"
  ],
  "required_endpoints": ["GET /api/health"],
  "status": "planning",
  "task_tracking": {
    "assigned_at": "2025-09-14T00:00:00Z",
    "estimated_duration": "2h",
    "dependencies": ["gc07", "gc14"],
    "subtasks": [
      {
        "id": "gc15.1",
        "description": "Create Artifact Registry repo (ui) in us-central1",
        "status": "pending",
        "agent": "devops_agent",
        "files": ["docs/"]
      },
      {
        "id": "gc15.2",
        "description": "Add cloudbuild.ar.yaml to build/push to AR",
        "status": "pending",
        "agent": "devops_agent",
        "files": ["cloudbuild.ar.yaml"]
      },
      {
        "id": "gc15.3",
        "description": "Update deploy to use AR image path",
        "status": "pending",
        "agent": "devops_agent",
        "files": ["cloudbuild.yaml", "scripts/deploy_cloud_run_ui.py"]
      },
      {
        "id": "gc15.4",
        "description": "Document migration and rollback instructions",
        "status": "pending",
        "agent": "devops_agent",
        "files": ["docs/"]
      }
    ],
    "completion_criteria": [
      "Image builds and pushes to Artifact Registry",
      "Cloud Run deploys from AR image",
      "Rollback path documented"
    ],
    "real_world_testing": {
      "required": false,
      "notes": "Deploy in a non-prod service or staging first",
      "docker_compose_required": false,
      "test_environment": "GCP project with AR enabled"
    },
    "blocking_issues": [],
    "progress_percentage": 0
  },
  "agent_handoff": {
    "from_agent": null,
    "to_agent": "devops_agent",
    "handoff_notes": "Ensure artifactregistry API enabled",
    "required_approval": false
  }
}

