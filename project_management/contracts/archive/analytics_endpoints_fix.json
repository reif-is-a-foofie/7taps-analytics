{
  "module": "analytics_endpoints_fix",
  "agent": "backend_agent",
  "allowed_files": [
    "app/api/analytics.py"
  ],
  "required_endpoints": [
    "GET /api/analytics/incomplete-students",
    "GET /api/analytics/lesson-comparison", 
    "GET /api/analytics/completion-speed"
  ],
  "status": "awaiting verification",
  "task_tracking": {
    "assigned_at": "2025-01-20T22:15:00Z",
    "estimated_duration": "30m",
    "dependencies": [],
    "subtasks": [
      {
        "id": "fix.1",
        "description": "Fix incomplete-students endpoint to return success: true",
        "status": "complete",
        "agent": "backend_agent",
        "files": ["app/api/analytics.py"]
      },
      {
        "id": "fix.2", 
        "description": "Fix lesson-comparison endpoint to return valid response",
        "status": "complete",
        "agent": "backend_agent",
        "files": ["app/api/analytics.py"]
      },
      {
        "id": "fix.3",
        "description": "Fix completion-speed endpoint to return success: true",
        "status": "complete",
        "agent": "backend_agent",
        "files": ["app/api/analytics.py"]
      }
    ],
    "completion_criteria": [
      "All 3 endpoints return success: true",
      "All endpoints return proper JSON structure",
      "All endpoints include chart_type, data, title fields",
      "No endpoints return false or null for success field"
    ],
    "real_world_testing": {
      "required": true,
      "notes": "Test all 3 endpoints at http://localhost:8000/api/analytics/",
      "docker_compose_required": false,
      "test_environment": "localhost:8000"
    },
    "blocking_issues": [],
    "progress_percentage": 100
  },
  "app_contract": {
    "name": "AnalyticsEndpointsFix",
    "description": "Fix 3 failing analytics endpoints",
    "actions": [
      {
        "name": "fix_incomplete_students",
        "input": {},
        "output": {
          "success": "boolean",
          "chart_type": "string",
          "data": "object",
          "title": "string"
        }
      },
      {
        "name": "fix_lesson_comparison",
        "input": {},
        "output": {
          "success": "boolean",
          "chart_type": "string", 
          "data": "object",
          "title": "string"
        }
      },
      {
        "name": "fix_completion_speed",
        "input": {},
        "output": {
          "success": "boolean",
          "chart_type": "string",
          "data": "object", 
          "title": "string"
        }
      }
    ]
  },
  "agent_handoff": {
    "from_agent": "orchestrator_agent",
    "to_agent": "backend_agent",
    "priority": "critical",
    "deadline": "2025-01-20T22:45:00Z",
    "notes": "URGENT: Fix these 3 endpoints to complete analytics_queries.json contract"
  }
}
