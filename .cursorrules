# Cursor Rules

1. Read and follow `plan.md` before writing code.
2. Work on one module at a time in numerical order (a.01, a.02, ...).
3. The orchestrator must create a JSON contract in `orchestrator_contracts/` before coding a module.
4. Only create or modify the files explicitly listed for the active module and its contract.
5. Do not create new files, directories, or dependencies outside the plan.
6. Do not modify `plan.md`, `README.md`, or `.cursorrules`.
7. After completing a module, run `pytest` and any additional commands under that module's **Tests** section. Publish results to `/api/debug/test-report`.
8. Commit changes only after tests pass, using conventional commit messages referencing the module (e.g., `feat: implement signup API`).
9. Maintain code formatting with `black` and `isort` when applicable.
10. All xAPI statements must be queued to Redis Streams and processed by Dramatiq workers.
11. Background jobs use the Dramatiq scheduler and log status via `TaskStatus`.
12. Expose the UI or debug endpoint for each backend process as described in `plan.md`.
13. The embedded DB terminal (SQLPad/Superset) must execute only pre-approved read-only queries.
14. Ask for clarification if instructions are unclear instead of making assumptions.
