{
  "module": "data_access_layer",
  "agent": "backend_agent",
  "allowed_files": [
    "app/api/data_access.py",
    "app/config.py",
    "app/models.py"
  ],
  "required_endpoints": ["GET /api/data/tables", "POST /api/data/query", "GET /api/data/schema"],
  "status": "draft",
  "task_tracking": {
    "assigned_at": "2025-01-20T22:00:00Z",
    "estimated_duration": "3h",
    "dependencies": [],
    "subtasks": [
      {
        "id": "data_layer.1",
        "description": "Create database connection management",
        "status": "pending",
        "agent": "backend_agent",
        "files": ["app/config.py"]
      },
      {
        "id": "data_layer.2",
        "description": "Implement data access API endpoints",
        "status": "pending",
        "agent": "backend_agent",
        "files": ["app/api/data_access.py"]
      },
      {
        "id": "data_layer.3",
        "description": "Create data models and schemas",
        "status": "pending",
        "agent": "backend_agent",
        "files": ["app/models.py"]
      },
      {
        "id": "data_layer.4",
        "description": "Test data access functionality",
        "status": "pending",
        "agent": "testing_agent",
        "files": []
      }
    ],
    "completion_criteria": [
      "Database connections work reliably",
      "Data access API endpoints are functional",
      "Schema inspection works for all tables",
      "Query execution is secure and performant",
      "All sub-apps can use this data layer"
    ],
    "real_world_testing": {
      "required": true,
      "notes": "Test with real database connection",
      "docker_compose_required": true,
      "test_environment": "docker-compose up with database"
    },
    "blocking_issues": [
      "Database connection configuration needed",
      "Security for data access not defined"
    ],
    "progress_percentage": 0
  },
  "app_contract": {
    "name": "DataAccess",
    "description": "Core data access layer for all sub-apps",
    "actions": [
      {
        "name": "get_tables",
        "input": {},
        "output": {
          "tables": "list",
          "schemas": "object"
        }
      },
      {
        "name": "execute_query",
        "input": {
          "query": "string",
          "params": "object"
        },
        "output": {
          "rows": "list",
          "columns": "list",
          "row_count": "int"
        }
      },
      {
        "name": "get_schema",
        "input": {
          "table": "string"
        },
        "output": {
          "columns": "list",
          "types": "object",
          "constraints": "object"
        }
      }
    ]
  },
  "agent_handoff": {
    "from_agent": null,
    "to_agent": "backend_agent",
    "handoff_notes": "Create core data access layer that all sub-apps will depend on",
    "required_approval": false
  }
}
