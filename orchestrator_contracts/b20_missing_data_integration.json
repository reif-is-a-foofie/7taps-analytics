{
  "module": "b.20_missing_data_integration",
  "agent": "backend_agent",
  "allowed_files": [
    "app/api/polls.py",
    "app/api/audio.py",
    "app/api/file_upload.py",
    "app/models/polls.py",
    "app/models/audio.py",
    "app/etl/polls_etl.py",
    "app/etl/audio_etl.py",
    "app/csv_to_xapi_converter.py",
    "app/ui/polls_management.py",
    "app/ui/audio_management.py",
    "templates/polls_management.html",
    "templates/audio_management.html",
    "tests/test_polls_integration.py",
    "tests/test_audio_integration.py"
  ],
  "required_endpoints": [
    "/api/polls/ingest",
    "/api/polls/results",
    "/api/polls/analytics",
    "/api/audio/upload",
    "/api/audio/process",
    "/api/audio/transcribe",
    "/api/audio/analytics",
    "/api/file-upload/audio",
    "/api/file-upload/polls",
    "/ui/polls-management",
    "/ui/audio-management"
  ],
  "status": "on_hold",
  "task_tracking": {
    "assigned_at": "2025-01-15T23:00:00Z",
    "estimated_duration": "12h",
    "dependencies": ["b.18", "b.19"],
    "subtasks": [
      {
        "id": "b.20.1",
        "description": "Implement polls data collection and processing system",
        "status": "not_started",
        "agent": "backend_agent",
        "files": ["app/api/polls.py", "app/models/polls.py", "app/etl/polls_etl.py"]
      },
      {
        "id": "b.20.2",
        "description": "Create audio file upload and processing system",
        "status": "not_started",
        "agent": "backend_agent",
        "files": ["app/api/audio.py", "app/api/file_upload.py", "app/models/audio.py"]
      },
      {
        "id": "b.20.3",
        "description": "Implement audio transcription and analysis",
        "status": "not_started",
        "agent": "backend_agent",
        "files": ["app/etl/audio_etl.py"]
      },
      {
        "id": "b.20.4",
        "description": "Build UI for polls and audio data management",
        "status": "not_started",
        "agent": "ui_agent",
        "files": ["app/ui/polls_management.py", "app/ui/audio_management.py", "templates/polls_management.html", "templates/audio_management.html"]
      },
      {
        "id": "b.20.5",
        "description": "Integrate with data normalization for analytics",
        "status": "not_started",
        "agent": "backend_agent",
        "files": ["app/data_normalization.py"]
      },
      {
        "id": "b.20.6",
        "description": "Create comprehensive test suite",
        "status": "not_started",
        "agent": "testing_agent",
        "files": ["tests/test_polls_integration.py", "tests/test_audio_integration.py"]
      }
    ],
    "completion_criteria": [
      "Polls data collection system captures lesson poll responses",
      "Audio file upload system handles lesson audio recordings",
      "Audio transcription system converts speech to text",
      "Data normalization includes polls and audio data",
      "UI provides management interface for both data types",
      "Analytics dashboard includes polls and audio insights",
      "All endpoints functional and tested in production"
    ],
    "real_world_testing": {
      "required": true,
      "status": "pending",
      "notes": "Test with real lesson data including polls and audio files",
      "docker_compose_required": false,
      "test_environment": "Heroku production environment",
      "validation_notes": "Validate polls data collection and audio processing with live lesson data",
      "testing_phases": [
        "Phase 1: Test polls data ingestion from lessons",
        "Phase 2: Test audio file upload and processing",
        "Phase 3: Test audio transcription accuracy",
        "Phase 4: Test data normalization integration",
        "Phase 5: Test UI management interfaces"
      ],
      "blocking_issues": []
    },
    "blocking_issues": [],
    "progress_percentage": 0
  },
  "agent_handoff": {
    "from_agent": "orchestrator_agent",
    "to_agent": "backend_agent",
    "handoff_notes": "b.20 Missing Data Integration module ON HOLD. Critical data pipeline issue identified - 261 statements stuck in statements_flat but only 1 normalized. b.21 Data Migration Fix takes priority to resolve this blocking issue.",
    "required_approval": false
  },
  "data_gaps_identified": {
    "polls_data": {
      "issue": "No polls data being collected from lessons",
      "impact": "Missing critical engagement and comprehension metrics",
      "solution": "Implement polls data collection API and processing pipeline",
      "data_structure": {
        "columns": ["Learner", "Card", "Card type", "Lesson Number", "Global Q#", "PDF Page #", "Response"],
        "card_types": ["Poll", "Form", "Quiz", "Rate"],
        "examples": [
          "Card 12 (Poll): How are you feeling about life in this moment?",
          "Card 7 (Poll): How much attention do you give to your screen habits?",
          "Card 14 (Quiz): What feels true for you about your devices?"
        ]
      }
    },
    "audio_data": {
      "issue": "No audio data being collected from lessons", 
      "impact": "Missing voice interaction and pronunciation data",
      "solution": "Implement audio file upload, processing, and transcription system",
      "data_structure": {
        "card_type": "Submit media",
        "examples": [
          "Card 13 (Submit media): Share an audio with usâ€”something you learned",
          "Card 29 (Submit media): What time of day is your heaviest usage?",
          "Card 11 (Submit media): Name 3 core values that drive you"
        ],
        "content_type": "Audio recordings with transcriptions"
      }
    }
  }
}
